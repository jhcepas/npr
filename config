#
# Standard NPR configuration file
#
# .... ... 
#
[main]
basedir  = ./prueba
pipeline = template/standard1.py

DNA_sst = 20   # DNA switching size threshold
DNA_sct = 0.0  # DNA switching conservation threshold
DNA_sit = 0.95 # DNA switching identity threshold

# Read the following config lines as a table, in which each column
# represents a different phylogenetic workflow. Different configs are
# used for different sizes of dataset. 'npr_max_seqs' defines the
# maximum number of sequences that can be handled by each config
# block. Note that npr_max_seqs in the last column should be higher
# than the max number of sequences you plan to analyze. 

npr_max_seqs          =  3,              4,             5,            1000000
npr_aa_aligner        =  meta_aligner,   muscle,        clustalo,      uhire  
npr_aa_alg_cleaner    =  trimal,         trimal,        trimal,        none
npr_aa_model_tester   =  prottest,       prottest,      none,          none  
npr_aa_tree_builder   =  raxml,          phyml,         fasttree,      fasttree

npr_nt_aligner        =  meta_aligner,   muscle,        uhire,         uhire  
npr_nt_alg_cleaner    =  trimal,         trimal,        trimal,        none
npr_nt_model_tester   =  jmodeltest,     jmodeltest,    none,          none 
npr_nt_tree_builder   =  raxml,          phyml,         fasttree,      fasttree


# Should I render a tree growing animation?
render_tree_images = true

[app]
# Paths to the different applications
muscle     = "/home/jhuerta/_Projects/npr/external_apps/muscle"
mafft      = "MAFFT_BINARIES=~/_Projects/npr/external_apps/mafft-6.861-without-extensions/binaries/  /home/jhuerta/_Projects/npr/external_apps/mafft"
clustalo   = "/home/jhuerta/_Projects/npr/external_apps/clustalo"
trimal     = "/home/jhuerta/_Projects/npr/external_apps/trimal"
readal     = "/home/jhuerta/_Projects/npr/external_apps/readal"
tcoffee    = "export DIR_4_TCOFFEE=/home/jhuerta/_Projects/npr/external_apps/t_coffee_9_01 MAFFT_BINARIES=$DIR_4_TCOFFEE/plugins/linux/ TMP_4_TCOFFEE=/tmp/ LOCKDIR_4_TCOFFEE=/tmp/  PERL5LIB=$PERL5LIB:$DIR_4_TCOFFEE/perl  && $DIR_4_TCOFFEE/bin/t_coffee"
phyml      = "/home/jhuerta/_Projects/npr/external_apps/phyml"
raxml      = "/home/jhuerta/_Projects/npr/external_apps/raxmlHPC-PTHREADS-SSE3"
jmodeltest = "JMODELTEST_HOME=~/_Projects/npr/external_apps/jmodeltest2; cd $JMODELTEST_HOME; java -jar $JMODELTEST_HOME/jModelTest.jar"
dialigntx  = "/home/jhuerta/_Projects/npr/external_apps/dialign-tx /home/jhuerta/_Projects/npr/external_apps/DIALIGN-TX_1.0.2/conf/"
usearch    = "/home/jhuerta/_Projects/npr/external_apps/usearch"
fasttree   = "/home/jhuerta/_Projects/npr/external_apps/FastTree"

# ----------------------------
# application config section
# ----------------------------

[muscle]
-maxhours = 24
-maxiters = 16

[mafft]
--quiet = ""
--auto = ""

[clustalo]
_alternative_aligner = uhire
-v = ""
--threads = 1 

[dialigntx]

[meta_aligner]
_aligners = Muscle, Mafft, Clustalo, Dialigntx
_use_reverse = True
            
[trimal]
-gt = 0.1 

[mcoffee]
-n_core = 1

[uhire]
_muscle_maxiters = 2 # maxiters allowes for the clump alignments
_maxclump = 5000    # max size of clusters

[prottest]
_models = "JTT", "WAG" 
-f = m            # char freq (m)odel or (e)stimated
--pinv = e        # Proportion of invariant sites
--alpha = e       # 
--nclasses =  4   # Number of classes
--no_memory_check = ""
--quiet = ""

[fasttree]
-wag = ""

[phyml]
_aa_model = JTT # AA model used if no model selection is performed
_nt_model = GTR # Nt model used if no model selection is performed
--no_memory_check = ""
--quiet = ""
--pinv = e        # Proportion of invariant sites.  Fixed value in the
                  # [0,1] range or "e" for estimated
--alpha = e       # Gamma distribution shape parameter. fixed value or
                  # "e" for "estimated"
--nclasses =  4   # Number of rate categories
-o = tlr          # Tree optimization
-f = m            # e: estiamte character frequencies.  m: character
                  # frequencies from model
--bootstrap = -2  #  approximate likelihood ratio test returning
                  #  Chi2-based parametric branch supports.

[raxml]
# phyml can be used to compute aLRT values once the tree is done
_phyml_bin = /home/jhuerta/_Projects/npr/external_apps/phyml
_alrt_calculation = phyml # none, phyml or raxml
_method = GAMMA # GAMMA or CAT
#_pinv = I # If True, estimates the proportion of invariable sites. 
#_ebf = F # Empirical base frequencies
-f = d 
_aa_model = JTT # Model used if no model selection is performed
-T = 2
-p = 31416 # Random seed to generate starting tree. Make results reproducible 

[jmodeltest]
-t = BIONJ  # ML, BIONJ or fixed
-tr = 1      # Threads
-s = 3       # Number of substitution schemes {3,5,7,11}
#-g = 4      # Include models with rate variation among sites and number of categories (e.g., -g 4)
#-i = ""     # Include models with a proportion invariable sites
#-f = ""     # Include models with unequals base frecuencies
-AIC = ""    # 
#-a = ""

[tree_merger]
_min_size = 3
_min_outgroups = 1
_outgroup_policy = "mean_dist" # mean_dist, max_dist, min_dist, median_dist

